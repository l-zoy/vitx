{"version":3,"sources":["cli.ts"],"names":["args","process","argv","slice","commands","logError","err","console","error","chalk","red","exit","includes","_","command","watch","w","cwd","build","Build","step","catch","Error"],"mappings":";;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;;AACA;;;;AAEA,MAAMA,IAAI,GAAG,4BAAYC,OAAO,CAACC,IAAR,CAAaC,KAAb,CAAmB,CAAnB,CAAZ,CAAb;AACA,MAAMC,QAAQ,GAAG,CAAC,OAAD,EAAU,MAAV,CAAjB;;AAEA,SAASC,QAAT,CAAkBC,GAAlB,EAA0B;AACxBC,EAAAA,OAAO,CAACC,KAAR,CAAcC,iBAAMC,GAAN,CAAUJ,GAAV,CAAd;AACAL,EAAAA,OAAO,CAACU,IAAR,CAAa,CAAb;AACD;;AAED,IAAIP,QAAQ,CAACQ,QAAT,CAAkBZ,IAAI,CAACa,CAAL,CAAO,CAAP,CAAlB,CAAJ,EAAkC;AAChC,QAAMC,OAAO,GAAGd,IAAI,CAACa,CAAL,CAAO,CAAP,CAAhB;;AAGA,MAAIC,OAAO,KAAK,OAAhB,EAAyB;AAAA;;AACvB,UAAMC,KAAK,cAAGf,IAAI,CAACgB,CAAR,6CAAahB,IAAI,CAACe,KAA7B;AACA,UAAME,GAAG,GAAGhB,OAAO,CAACgB,GAAR,EAAZ;AACA,UAAMC,KAAK,GAAG,IAAIC,cAAJ,CAAU;AAAEF,MAAAA,GAAF;AAAOF,MAAAA;AAAP,KAAV,CAAd;AACAG,IAAAA,KAAK,CAACE,IAAN,GAAaC,KAAb,CAAoBf,GAAD,IAAQ;AACzBD,MAAAA,QAAQ,CAACC,GAAD,CAAR;AACD,KAFD;AAGD,GAPD,MAOO,IAAIQ,OAAO,KAAK,MAAhB,EAAwB;AAC7B,uBAAKd,IAAL,EAAWqB,KAAX,CAAkBf,GAAD,IAAO;AACtBD,MAAAA,QAAQ,CAACC,GAAD,CAAR;AACD,KAFD;AAGD,GAJM,MAIA;AACL,UAAM,IAAIgB,KAAJ,CAAUb,iBAAMC,GAAN,CAAU,oBAAoBV,IAAI,CAACa,CAAC,GAApC,CAAV,CAAN;AACD;AACF","file":"cli.js","sourcesContent":["import yargsParser from 'yargs-parser'\nimport chalk from 'chalk'\n\nimport Build from './Build'\nimport test from './test'\n\nconst args = yargsParser(process.argv.slice(2))\nconst commands = ['build', 'test']\n\nfunction logError(err: any) {\n  console.error(chalk.red(err))\n  process.exit(1)\n}\n\nif (commands.includes(args._[0])) {\n  const command = args._[0]\n\n\n  if (command === 'build') {\n    const watch = args.w ?? args.watch\n    const cwd = process.cwd()\n    const build = new Build({ cwd, watch })\n    build.step().catch((err) => {\n      logError(err)\n    })\n  } else if (command === 'test') {\n    test(args).catch((err)=>{\n      logError(err)\n    })\n  } else {\n    throw new Error(chalk.red(`Unknown command '${args._}'`))\n  }\n}\n"],"sourceRoot":"/Users/zoy/zmi-nerd/src"}